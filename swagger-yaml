openapi: 3.0.0
paths:
  /health:
    get:
      operationId: AppController_health
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - App
  /:
    get:
      operationId: AppController_getHello
      parameters:
        - name: name
          required: true
          in: query
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - App
  /timesheet/{username}/{year}/{month}:
    get:
      operationId: TimesheetController_getTimesheetByMonth
      parameters:
        - name: username
          required: true
          in: path
          description: Username of the employee
          schema:
            example: bruce.wayne
            type: string
        - name: year
          required: true
          in: path
          description: Four-digit year
          schema:
            example: '2025'
            type: number
        - name: month
          required: true
          in: path
          description: Month of the year (1-12)
          schema:
            example: '9'
            type: number
      responses:
        '200':
          description: Timesheet data for the specified month
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TimesheetDto'
      tags:
        - Timesheet
  /timesheet/{username}:
    put:
      operationId: TimesheetController_editTimesheet
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EditTimesheetDto'
      responses:
        '200':
          description: ''
      tags:
        - Timesheet
info:
  title: API
  description: API Documentation
  version: '1.0'
  contact: {}
tags: []
servers: []
components:
  schemas:
    TaskDto:
      type: object
      properties:
        projectName:
          type: string
          description: Project name
          example: Benoite
        taskName:
          type: string
          description: Task name
          example: Corporate event
        hours:
          type: number
          description: Hours spent on the task
          example: 4.5
        taskDescription:
          type: string
          description: Additional information about the task
          example: Attended Softcon 2025 conference
      required:
        - projectName
        - taskName
        - hours
        - taskDescription
    TimeLogDto:
      type: object
      properties:
        date:
          type: string
          description: Date in ISO format
          example: '2025-09-15'
        shift:
          type: string
          description: Shift type (e.g. Reg)
          example: Reg
        timeIn:
          type: string
          description: First time-in of the day in 24-hour HH:mm format
          example: '09:00'
        timeOut:
          type: string
          description: Last time-out of the day in 24-hour HH:mm format
          example: '18:00'
        remarks:
          type: string
          description: General remarks
          example: Other
        overrideReason:
          type: string
          description: Reason for overriding time entries
          example: WFH
        elapsedTime:
          type: string
          description: Elapsed time between time-in and time-out
          example: '9:19'
        workedHours:
          type: number
          description: Total hours from all tasks worked on that day
          example: 8
        weekend:
          type: boolean
          description: Returns true if a weekend, false otherwise
          example: false
        tasks:
          description: Array of tasks worked on that day
          type: array
          items:
            $ref: '#/components/schemas/TaskDto'
      required:
        - date
        - shift
        - timeIn
        - timeOut
        - remarks
        - overrideReason
        - elapsedTime
        - workedHours
        - weekend
        - tasks
    TimesheetDto:
      type: object
      properties:
        timeLogs:
          description: Array of time logs (daily time records)
          type: array
          items:
            $ref: '#/components/schemas/TimeLogDto'
      required:
        - timeLogs
    EditTimeLogDto:
      type: object
      properties:
        date:
          type: string
          description: Date in ISO format
          example: '2025-09-15'
        timeIn:
          type: string
          description: First time-in of the day in 24-hour HH:mm format
          example: '09:00'
        timeOut:
          type: string
          description: Last time-out of the day in 24-hour HH:mm format
          example: '18:00'
        remarks:
          type: string
          description: General remarks
          example: Other
        overrideReason:
          type: string
          description: Reason for overriding time entries
          example: WFH
      required:
        - date
        - timeIn
        - timeOut
        - remarks
        - overrideReason
    EditTimesheetDto:
      type: object
      properties:
        timeLogs:
          description: Array of time logs (daily time records)
          type: array
          items:
            $ref: '#/components/schemas/EditTimeLogDto'
      required:
        - timeLogs